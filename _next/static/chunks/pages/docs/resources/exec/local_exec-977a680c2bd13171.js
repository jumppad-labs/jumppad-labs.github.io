(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{1110:function(n,s,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/resources/exec/local_exec",function(){return e(7547)}])},7547:function(n,s,e){"use strict";e.r(s),e.d(s,{__N_SSG:function(){return i}});var o=e(5893),a=e(1151),t=e(8691);function r(n){let s=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",h3:"h3",pre:"pre"},(0,a.ah)(),n.components),{Intro:e,Properties:r}=s;return e||l("Intro",!0),r||l("Properties",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h1,{children:"Local Exec"}),"\n",(0,o.jsxs)(e,{children:[(0,o.jsxs)(s.p,{children:["The ",(0,o.jsx)(s.code,{children:"local_exec"})," resource allows the execution of arbitrary commands and scripts\non the local machine. The command runs in the local user space, and has access\nto all the environment variables that the user executing jumppad run has access\ntoo. Additional environment variables, and the working directory for the command\ncan be specified as part of the resource."]}),(0,o.jsx)(s.p,{children:"Log files for exec_local are written to $HOME.jumppad\\logs[name].log"}),(0,o.jsx)(s.p,{children:"Documentation is work in progress, please see the old documentation at:"}),(0,o.jsx)(s.p,{children:(0,o.jsx)(s.a,{href:"https://shipyard.run/docs/resources/exec_local",children:"https://shipyard.run/docs/resources/exec_local"})})]}),"\n",(0,o.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsx)(r,{}),"\n",(0,o.jsx)(t.default,{}),"\n",(0,o.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(s.h3,{children:"Minimal Example"}),"\n",(0,o.jsx)(s.p,{children:"The following example will run the command consul services register ./config/redis/hcl\nand will wait for it to complete. If the command takes longer than 30s to complete,\nit will be automatically killed."}),"\n",(0,o.jsx)(s.pre,{language:"hcl",code:'resource "local_exec" "exec_standalone" {\n  command = [\n    "consul"\n    "services",\n    "register",\n    "./config/redis.hcl"\n  ]\n\n  environment = {\n    CONSUL_HTTP_ADDR = "http://consul.container.local.jmpd.in:8500"\n  }\n\n  timeout = "30s"\n}\n',children:(0,o.jsx)(s.code,{className:"language-hcl",children:'<span><span style="color: var(--shiki-token-keyword)">resource</span><span style="color: var(--shiki-token-string-expression)"> &quot;local_exec&quot; &quot;exec_standalone&quot;</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">  command </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> [</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;consul&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;services&quot;</span><span style="color: var(--shiki-color-text)">,</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;register&quot;</span><span style="color: var(--shiki-color-text)">,</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;./config/redis.hcl&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">  ]</span></span>\n<span></span>\n<span><span style="color: var(--shiki-color-text)">  environment </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">    CONSUL_HTTP_ADDR = &quot;http://consul.container.local.jmpd.in:8500&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">  }</span></span>\n<span></span>\n<span><span style="color: var(--shiki-color-text)">  timeout </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;30s&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})}),"\n",(0,o.jsx)(s.h3,{children:"Daemon Mode"}),"\n",(0,o.jsx)(s.p,{children:"The following example runs the command consul agent -dev and immediately returns\nleaving the command to run as a daemon which is not terminated when the jumppad\nup command completes."}),"\n",(0,o.jsx)(s.p,{children:"Daemons either exit on their own or are killed when running jumppad down."}),"\n",(0,o.jsx)(s.pre,{language:"hcl",code:'resource remote_exec "exec_standalone" {\n  command = [\n    "consul"\n    "agent",\n    "-dev",\n  ]\n\n  daemon = true\n}\n',children:(0,o.jsx)(s.code,{className:"language-hcl",children:'<span><span style="color: var(--shiki-color-text)">resource </span><span style="color: var(--shiki-token-keyword)">remote_exec</span><span style="color: var(--shiki-token-string-expression)"> &quot;exec_standalone&quot;</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">  command </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> [</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;consul&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;agent&quot;</span><span style="color: var(--shiki-color-text)">,</span></span>\n<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-string-expression)">&quot;-dev&quot;</span><span style="color: var(--shiki-color-text)">,</span></span>\n<span><span style="color: var(--shiki-color-text)">  ]</span></span>\n<span></span>\n<span><span style="color: var(--shiki-color-text)">  daemon </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})})]})}var i=!0;function l(n,s){throw Error("Expected "+(s?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}s.default=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.ah)(),n.components);return s?(0,o.jsx)(s,Object.assign({},n,{children:(0,o.jsx)(r,n)})):r(n)}},8691:function(n,s,e){"use strict";e.r(s),e.d(s,{__N_SSG:function(){return r}});var o=e(5893),a=e(1151);function t(n){let s=Object.assign({h2:"h2",p:"p",code:"code",a:"a"},(0,a.ah)(),n.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h2,{id:"meta_properties",children:"Meta Properties"}),"\n",(0,o.jsxs)(s.p,{children:["In addition to the main properties, all resources have ",(0,o.jsx)(s.code,{children:"meta"})," properties, such\nas the ",(0,o.jsx)(s.code,{children:"id"})," of the resource. To see the list of these properties please see the\n",(0,o.jsx)(s.code,{children:"Meta Properties"})," section in the documentation ",(0,o.jsx)(s.a,{href:"/docs/resources/meta",children:"/docs/resources/meta"}),"."]})]})}var r=!0;s.default=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.ah)(),n.components);return s?(0,o.jsx)(s,Object.assign({},n,{children:(0,o.jsx)(t,n)})):t(n)}}},function(n){n.O(0,[9774,2888,179],function(){return n(n.s=1110)}),_N_E=n.O()}]);