(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5740],{3711:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/resources/registry/container_registry",function(){return n(1846)}])},1846:function(e,s,n){"use strict";n.r(s),n.d(s,{__N_SSG:function(){return i}});var r=n(5893),t=n(1151),o=n(8691);function a(e){let s=Object.assign({h1:"h1",code:"code",p:"p",ul:"ul",li:"li",h3:"h3",h2:"h2",pre:"pre"},(0,t.ah)(),e.components),{Intro:n,Properties:a,Property:i}=s;return n||l("Intro",!0),a||l("Properties",!0),i||l("Property",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{children:["Container Registry ",(0,r.jsx)(s.code,{children:"container_registry"})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsxs)(s.p,{children:["To save bandwidth all containers launched in Kubernetes and Nomad clusters are pulled through\nan image cache that is automatically started whenever you run ",(0,r.jsx)(s.code,{children:"jumppad up"}),". After the first\npull all images are subsequently pulled from the image cache not the public internet."]}),(0,r.jsxs)(s.p,{children:["Currently ",(0,r.jsx)(s.code,{children:"public"})," images from the following registries are cached:"]}),(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"docker.io"}),"\n",(0,r.jsx)(s.li,{children:"k8s.gcr.io"}),"\n",(0,r.jsx)(s.li,{children:"gcr.io"}),"\n",(0,r.jsx)(s.li,{children:"asia.gcr.io"}),"\n",(0,r.jsx)(s.li,{children:"eu.gcr.io"}),"\n",(0,r.jsx)(s.li,{children:"us.gcr.io"}),"\n",(0,r.jsx)(s.li,{children:"quay.io"}),"\n",(0,r.jsx)(s.li,{children:"ghcr.io"}),"\n",(0,r.jsx)(s.li,{children:"docker.pkg.github.com"}),"\n"]}),(0,r.jsxs)(s.p,{children:["To cache private images or to enable the pull through cache for registires that are not listed above,\nyou can use the ",(0,r.jsx)(s.code,{children:"container_registry"})," resource."]})]}),"\n",(0,r.jsxs)(a,{children:[(0,r.jsx)(i,{name:"hostname",type:"string",required:"true",value:"",children:(0,r.jsx)(s.p,{children:"The hostname of the registry to add to the pull through cache."})}),(0,r.jsx)(i,{name:"auth",type:"#registry_auth",required:"false",value:"",children:(0,r.jsx)(s.p,{children:"The authentication information for the registry, if not provided the registry is assumed to be public."})})]}),"\n",(0,r.jsx)(s.h3,{children:"registry_auth"}),"\n",(0,r.jsxs)(a,{children:[(0,r.jsx)(i,{name:"hostname",type:"string",required:"false",value:"",children:(0,r.jsx)(s.p,{children:"The hostname to use for authentication, if not provided the hostname of the registry is used."})}),(0,r.jsx)(i,{name:"username",type:"string",required:"true",value:"",children:(0,r.jsx)(s.p,{children:"The username to authenticate with the registry."})}),(0,r.jsx)(i,{name:"password",type:"string",required:"true",value:"",children:(0,r.jsx)(s.p,{children:"The password to authenticate with the registry."})})]}),"\n",(0,r.jsx)(o.default,{}),"\n",(0,r.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(s.h3,{children:"Unauthenticated Registry"}),"\n",(0,r.jsx)(s.pre,{language:"hcl",code:'resource "container_registry" "noauth" {\n  hostname = "noauth-registry.demo.gs" // cache can not resolve local jumppad.dev dns for some reason, \n  // using external dns mapped to the local ip address\n}\n',children:(0,r.jsx)(s.code,{className:"language-hcl",children:'<span><span style="color: var(--shiki-token-keyword)">resource</span><span style="color: var(--shiki-token-string-expression)"> &quot;container_registry&quot; &quot;noauth&quot;</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">  hostname </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;noauth-registry.demo.gs&quot;</span><span style="color: var(--shiki-color-text)"> // cache can not resolve local jumppad</span><span style="color: var(--shiki-token-constant)">.</span><span style="color: var(--shiki-color-text)">dev dns for some reason, </span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// using external dns mapped to the local ip address</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})}),"\n",(0,r.jsx)(s.h3,{children:"Authenticated Registry"}),"\n",(0,r.jsx)(s.pre,{language:"hcl",code:'resource "container_registry" "auth" {\n  hostname = "auth-registry.demo.gs"\n  auth {\n    username = "admin"\n    password = "password"\n  }\n}\n',children:(0,r.jsx)(s.code,{className:"language-hcl",children:'<span><span style="color: var(--shiki-token-keyword)">resource</span><span style="color: var(--shiki-token-string-expression)"> &quot;container_registry&quot; &quot;auth&quot;</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">  hostname </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;auth-registry.demo.gs&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">auth</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">    username </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;admin&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">    password </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;password&quot;</span></span>\n<span><span style="color: var(--shiki-color-text)">  }</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})})]})}var i=!0;function l(e,s){throw Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}s.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.ah)(),e.components);return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(a,e)})):a(e)}},8691:function(e,s,n){"use strict";n.r(s),n.d(s,{__N_SSG:function(){return a}});var r=n(5893),t=n(1151);function o(e){let s=Object.assign({h2:"h2",p:"p",code:"code",a:"a"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"meta_properties",children:"Meta Properties"}),"\n",(0,r.jsxs)(s.p,{children:["In addition to the main properties, all resources have ",(0,r.jsx)(s.code,{children:"meta"})," properties, such\nas the ",(0,r.jsx)(s.code,{children:"id"})," of the resource. To see the list of these properties please see the\n",(0,r.jsx)(s.code,{children:"Meta Properties"})," section in the documentation ",(0,r.jsx)(s.a,{href:"/docs/resources/meta",children:"/docs/resources/meta"}),"."]})]})}var a=!0;s.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,t.ah)(),e.components);return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(o,e)})):o(e)}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=3711)}),_N_E=e.O()}]);